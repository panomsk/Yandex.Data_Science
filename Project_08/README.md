# Выбор локации для скважины
Допустим, вы работаете в добывающей компании «ГлавРосГосНефть». Нужно решить, где бурить новую скважину.

Вам предоставлены пробы нефти в трёх регионах: в каждом 10 000 месторождений, где измерили качество нефти и объём её запасов. Постройте модель машинного обучения, которая поможет определить регион, где добыча принесёт наибольшую прибыль. Проанализируйте возможную прибыль и риски техникой *Bootstrap.*

**Шаги для выбора локации:**

- В избранном регионе ищут месторождения, для каждого определяют значения признаков;
- Строят модель и оценивают объём запасов;
- Выбирают месторождения с самым высокими оценками значений. Количество месторождений зависит от бюджета компании и стоимости разработки одной скважины;
- Прибыль равна суммарной прибыли отобранных месторождений.

**Описание данных**  
Данные геологоразведки трёх регионов находятся в файлах: geo_data_0.csv, geo_data_1.csv, geo_data_2.csv
- id — уникальный идентификатор скважины;
- f0, f1, f2 — три признака точек (неважно, что они означают, но сами признаки значимы);
- product — объём запасов в скважине (тыс. баррелей).  

**Условия задачи:**  
- Использовать модель линейной регрессии (остальные — недостаточно предсказуемые).
- Исследовать 500 точек при геологоразведке, выбрать 200 с наибольшими запасами для расчёта прибыли.
- Бюджет на разработку скважин в регионе — 10 млрд рублей.
- Стоимость одного барреля нефти 450 рублей. Объём указан в 1000 баррелей.
- Выбрать регионы, в которых вероятность убытков меньше 2.5%. Среди регионов, прошедших оценку рисков, выбрать один с наибольшей средней прибылью. 

## Общий вывод по проекту
**При выполнении проекта:**

На этапе подготовки данных:  
- Данные успешно загружены из файлов: geo_data_0.csv, geo_data_1.csv, geo_data_2.csv
- По каждому региону представлена информация по 100000 объектам, состав данных соответствует описанию
- Пропусков и дубликатов в данных нет
- После анализа гисторгамм и диаграмм рассеивания возникают подозрения в том, что набор данных синтетический, но выполнению задания это не помешает) 

На этапе подготовки данных для каждого региона обучена и проверена модель линейной регрессии:
- Данные разбиты на обучающую и валидационную выборки в соотношении 75:25.
- Обучена модель и рассчитаны предсказания на валидационной выборке.
- Сохранены предсказания и правильные ответы на валидационной выборке.
- Выведен средний запас предсказанного сырья и RMSE модели.
- В регионе 0 и 2 модель предсказывает в среднем больший запас сырья для каждого объекта (92.4, 94.77), чем в регионе 1 (68.71).
- RMSE модели для региона 1 (0.89) значительно меньше, чем для регионов 0 и 2 (37.76, 40.15). Данный результат был предсказуем вследствии высокой корреляции для региона 1 признака f2 с целевым показателем product

На этапе подготовки к расчету прибыли:
- Ключевые значения для расчётов прибыли сохранены в отдельных переменных.
- Достаточный объём сырья для безубыточной разработки новой скважины составил 111.11 тысяч баррелей
- Для всех регионов средний запас предсказанного сырья меньше достаточного объема для безубыточной разработки, без машинного обучения при выборе скважин не обойтись

На этапе расчета прибыли и рисков:
- С помощью метода Bootstrap рассчитана средняя прибыль, 95% доверительный интервал и риск убытков.
- Допустимому риску убытков соответствует только регион 1, также в этом регионе максимальная средняя прибыль и положительная нижняя граница 95% доверительного интервала средней прибыли. 

**Рекомендуем для разработки регион 1.**  
**Средняя прибыль при разработке 200 лучших скважин (выбранных из 500): 511.36 млн. руб.**  
**95% интервал для средней прибыли от: 98.87 до 940.72 млн. руб.**  
**Риск убытка: 0.9 %**  

P.S.: Интересная задача. Средний запас сырья выше в 0 и 2 регионах. И если бы не использовалось машинное обучение, то логичнее было бы вести разработку в этих регионах. Но линейная регрессия для данных регионов обучилась некачественно, поэтому при выборе 200 лучших скважин из 500 мы выбираем не самые лучшие по фактическому запасу скважины и риск разработки скважин в данных регионах при использовании данной моедли машинного обучения оказывается слишком высоким.  
При этом в регионе 1 несмотря на меньший средний запас сырья, мы смогли обучить модель машинного обучения с очень низкой ошибкой, поэтому при выборе 200 лучших скважин из 500 мы действительно выбираем лучшие скважины, что способствет снижению риска разработки и увеличению средней прибыли.

На самом деле, мне кажется что нужно либо искать другие признаки, либо пытаться использовать другие модели машинного обучения. Не логично вести разработку в регионе с самым низким запасом сырья.